<!DOCTYPE html>
<html>
<head>
<title></title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Language" content="zh-CN" />
<meta id="viewport" content="width=device-width,initial-scale=1.0, maximum-scale=1, user-scalable=no" name="viewport" />
<meta content="yes" name="apple-mobile-web-app-capable">
<meta content="black" name="apple-mobile-web-app-status-bar-style">
<meta content="telephone=no" name="format-detection">
<meta name="keywords" content="" />
<meta name="description" content="" />
<script type="text/javascript" src="js/zepto.min.js"></script>
<script type="text/javascript" src="js/iscroll.js"></script>
<link rel="stylesheet" type="text/css" href="css/index.css">
<script type="text/javascript">
$(function(){
	var hhh=$("#tableName1").offset().top+35+60;
	var boxH=$(window).height()-hhh;
	$("#bfnew1").css("height",boxH);
	
	var hhh=$("#tableName2").offset().top+35+60;
		var boxH=$(window).height()-hhh;
		$("#bfnew2").css("height",boxH);
	})


var myScroll,
	pullDownEl, pullDownOffset,
	pullUpEl, pullUpOffset,
	generatedCount = 0;


function pullUpAction () {
	setTimeout(function () {	// <-- Simulate network congestion, remove setTimeout from production!
		var el, li, i;
		el = document.getElementById('thelist');
		for (i=0; i<3; i++) {
			li = document.createElement('li');
			li.innerText = 'Generated row ' + (++generatedCount);
			el.appendChild(li, el.childNodes[0]);
		}
		myScroll.refresh();		// Remember to refresh when contents are loaded (ie: on ajax completion)
	}, 1000);	// <-- Simulate network congestion, remove setTimeout from production!
}

function loaded() {
	pullDownEl = document.getElementById('pullDown');
	pullDownOffset = pullDownEl.offsetHeight;
	pullUpEl = document.getElementById('pullUp');	
	pullUpOffset = pullUpEl.offsetHeight;
	
	myScroll = new iScroll('wrapper', {
		useTransition: true,
		topOffset: pullDownOffset,
		onRefresh: function () {
			if (pullDownEl.className.match('loading')) {
				pullDownEl.className = '';
				pullDownEl.querySelector('.pullDownLabel').innerHTML = '松手开始更新...';
			} else if (pullUpEl.className.match('loading')) {
				pullUpEl.className = '';
				pullUpEl.querySelector('.pullUpLabel').innerHTML = '下拉刷新...';
			}
		},
		onScrollMove: function () {
			if (this.y < (this.maxScrollY - 5) && !pullUpEl.className.match('flip')) {
				pullUpEl.className = 'flip';
				pullUpEl.querySelector('.pullUpLabel').innerHTML = '松手开始更新...';
				this.maxScrollY = this.maxScrollY;
			} else if (this.y > (this.maxScrollY + 5) && pullUpEl.className.match('flip')) {
				pullUpEl.className = '';
				pullUpEl.querySelector('.pullUpLabel').innerHTML = '上拉加载更多...';
				this.maxScrollY = pullUpOffset;
			}
		},
		onScrollEnd: function () {
			if (pullUpEl.className.match('flip')) {
				pullUpEl.className = 'loading';
				pullUpEl.querySelector('.pullUpLabel').innerHTML = 'Loading...';				
				pullUpAction();	// Execute custom function (ajax call?)
			}
		}
	});
	
	setTimeout(function () { document.getElementById('wrapper').style.left = '0'; }, 800);
}

document.addEventListener('DOMContentLoaded', function () { setTimeout(loaded, 200); }, false);
</script>

<script>
$(function(){
	$(".lqcheack a").click(function(){
		$(".lqcheack a").removeClass("dq");
		$(".box1").removeClass("dq");
		$(this).addClass("dq");
		$(".box1").eq($(this).index()).addClass("dq");
		
		var hhh=$("#tableName2").offset().top+35+60;
		var boxH=$(window).height()-hhh;
		$("#bfnew2").css("height",boxH);
		
		})
	})
</script>

<script>
var myScroll2,
	pullDownEl2, pullDownOffset2,
	pullUpEl2, pullUpOffset2,
	generatedCount2 = 0;


function pullUpAction2 () {
	setTimeout(function () {	// <-- Simulate network congestion, remove setTimeout from production!
		var el, li, i;
		el = document.getElementById('thelist2');
		for (i=0; i<3; i++) {
			li = document.createElement('li');
			li.innerText = 'Generated row ' + (++generatedCount2);
			el.appendChild(li, el.childNodes[0]);
		}
		myScroll2.refresh();		// Remember to refresh when contents are loaded2 (ie: on ajax completion)
	}, 1000);	// <-- Simulate network congestion, remove setTimeout from production!
}

function loaded2() {
	pullDownEl2 = document.getElementById('pullDown2');
	pullDownOffset2 = pullDownEl2.offsetHeight;
	pullUpEl2 = document.getElementById('pullUp2');	
	pullUpOffset2 = pullUpEl2.offsetHeight;
	
	myScroll2 = new iScroll('wrapper2', {
		useTransition: true,
		topOffset: pullDownOffset2,
		onRefresh: function () {
			if (pullDownEl2.className.match('loading2')) {
				pullDownEl2.className = '';
				pullDownEl2.querySelector('.pullDownLabel2').innerHTML = '松手开始更新...';
			} else if (pullUpEl2.className.match('loading2')) {
				pullUpEl2.className = '';
				pullUpEl2.querySelector('.pullUpLabel2').innerHTML = '下拉刷新...';
			}
		},
		onScrollMove: function () {
			if (this.y < (this.maxScrollY - 5) && !pullUpEl2.className.match('flip2')) {
				pullUpEl2.className = 'flip2';
				pullUpEl2.querySelector('.pullUpLabel2').innerHTML = '松手开始更新...';
				this.maxScrollY = this.maxScrollY;
			} else if (this.y > (this.maxScrollY + 5) && pullUpEl2.className.match('flip2')) {
				pullUpEl2.className = '';
				pullUpEl2.querySelector('.pullUpLabel2').innerHTML = '上拉加载更多...';
				this.maxScrollY = pullUpOffset2;
			}
		},
		onScrollEnd: function () {
			if (pullUpEl2.className.match('flip2')) {
				pullUpEl2.className = 'loading2';
				pullUpEl2.querySelector('.pullUpLabel2').innerHTML = 'Loading...';				
				pullUpAction2();	// Execute custom function (ajax call?)
			}
		}
	});
	
	setTimeout(function () { document.getElementById('wrapper2').style.left = '0'; }, 800);
}

document.addEventListener('DOMContentLoaded', function () { setTimeout(loaded2, 200); }, false);

</script>


</head>
<body>
<!--领取-->
<div class="vip new">
	<span class="vip1">vip</span><span>5折优惠券</span> 
</div>

<div class="bccs new">
	<dd><img src="images/a1.png"><span>发放次数：6</span></dd>
    <dd class="n1"><img src="images/a2.png"><span>发放情况：270/380</span> <b>（可发/总量）</b></dd>
</div>

<div class="lqcheack">
  <a class="dq">自己领取</a><a>发放给朋友 </a>
</div>




<div class="box1 dq">
    <div class="name2">已发放 <strong>10次</strong>，合计发放 <strong>380张</strong> 卡券，<strong>270张</strong> 被领取</div>
    <div class="tableName new" id="tableName1">
        <dd>发放时间</dd><dd>发放数量</dd><dd>领取数量</dd><dd>发放页</dd>
    </div>
    <div class="bfnew new" id="bfnew1">
    <div id="wrapper">
        <div id="scroller">
            <div id="pullDown" style="height:0px">
            </div>
            <ul id="thelist">
                <li><dd>2015-06-11</dd><dd>100</dd><dd>100</dd><dd><a href="#" class="enter">点击进入</a></dd></li>
                <li><dd>2015-06-11</dd><dd>100</dd><dd>100</dd><dd><a href="#" class="enter">点击进入</a></dd></li>
                <li><dd>2015-06-11</dd><dd>100</dd><dd>100</dd><dd><a href="#" class="enter">点击进入</a></dd></li>
                <li><dd>2015-06-11</dd><dd>100</dd><dd>100</dd><dd><a href="#" class="enter">点击进入</a></dd></li>
                <li><dd>2015-06-11</dd><dd>100</dd><dd>100</dd><dd><a href="#" class="enter">点击进入</a></dd></li>
                <li><dd>2015-06-11</dd><dd>100</dd><dd>100</dd><dd><a href="#" class="enter">点击进入</a></dd></li>
                <li><dd>2015-06-11</dd><dd>100</dd><dd>100</dd><dd><a href="#" class="enter">点击进入</a></dd></li>
                <li><dd>2015-06-11</dd><dd>100</dd><dd>100</dd><dd><a href="#" class="enter">点击进入</a></dd></li>
                <li><dd>2015-06-11</dd><dd>100</dd><dd>100</dd><dd><a href="#" class="enter">点击进入</a></dd></li>
            </ul>
            <div id="pullUp">
                <span class="pullUpLabel">下拉获取更多</span><span class="pullUpIcon"></span>
            </div>
        </div>
    </div>
    </div>
</div>



<div class="box1 new">
    <div class="name2">已领取 <strong>10</strong> 张卡券</div>
    <div class="tableName new" id="tableName2">
        <dd>领取时间</dd><dd>领取张数</dd>
    </div>
    <div class="bfnew new" id="bfnew2">
    <div id="wrapper2">
        <div id="scroller2">
            <div id="pullDown2" style="height:0px">
            </div>
            <ul id="thelist2">
                <li><dd>2015-06-11</dd><dd>100</dd></li>
                <li><dd>2015-06-11</dd><dd>100</dd></li>
                <li><dd>2015-06-11</dd><dd>100</dd></li>
               
                <li><dd>2015-06-11</dd><dd>100</dd></li>
            </ul>
            <div id="pullUp2">
                <span class="pullUpLabel2">下拉获取更多</span><span class="pullUpIcon2"></span>
            </div>
        </div>
    </div>
    </div>
</div>


<div style="height:60px"></div>
<footer>
	<dd><a class="">呼唤朋友</a></dd>
    <dd class="d2"><a class="dq">我的卡包</a></dd>
    <dd class="d3"><a class="">我的返利</a></dd>
    <dd class="d4"><a class="">个人信息</a></dd>
</footer>

</body>
</html>
